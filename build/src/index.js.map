{"version":3,"file":"index.js","names":["app","express","dotenv","config","use","json","bodyParser","urlencoded","extended","mongoose","Promise","global","connectionString","connect","useNewUrlParser","useCreateIndex","useFindAndModify","useUnifiedTopology","then","console","log","catch","err","process","exit","get","req","res","message","commentRoute","authRoute","userRoute","postRoute","categoryRoute","listen"],"sources":["../../src/index.js"],"sourcesContent":["import express from \"express\";\nconst app = express();\n// import app from express();\nimport dotenv from \"dotenv\";\nimport mongoose from \"mongoose\";\nimport authRoute from \"./routes/auth.js\";\nimport userRoute from \"./routes/users.js\";\nimport postRoute from \"./routes/posts.js\";\nimport categoryRoute from \"./routes/categories.js\";\nimport commentRoute from \"./routes/commentCo.js\";\nimport bodyParser from 'body-parser';\nimport path from \"path\";\nimport authorization from \"./middlewires/middleware.js\";\n// import dbConfig from './config/database.config.js';\ndotenv.config();\napp.use(express.json());\napp.use(bodyParser.urlencoded({ extended: true }))\napp.use(bodyParser.json());\n\nmongoose.Promise = global.Promise;\n\n// mongoose\n//   .connect(process.env.MONGO_URL, {\n//     useNewUrlParser: true,\n//     useUnifiedTopology: true,\n//     useCreateIndex: true,\n//     useFindAndModify:true\n//   })\nconst connectionString =\"mongodb+srv://Ericn:12345@cluster0.b3fjnbe.mongodb.net/?retryWrites=true&w=majority\";\nmongoose.connect(connectionString, { useNewUrlParser: true,\n  useCreateIndex: true,\n  useFindAndModify:true,\n  useUnifiedTopology: true\n })\n  .then(() => {\n    console.log(\"Successfully connected to the database\");    \n}).catch(err => {\n    console.log('something went wrong', err);\n    process.exit();\n});\n// const storage = multer.diskStorage({\n//   destination: (req, file, cb) => {\n//     cb(null, \"images\");\n//   },\n//   filename: (req, file, cb) => {\n//     cb(null, \"eric.jpg\");\n//   },\n// });\n\n// const upload = multer({ storage: storage });\n// app.post(\"/api/upload\", upload.single(\"file\"), (req, res) => {\n//   res.status(200).json(\"File has been uploaded\");\n// });\napp.get('/', (req, res) => {\n   return res.json({message: \"Welcome  I am testing\"});\n});\n// app.use(\"/images\", express.static(path.join(process.cwd(), \"/images\")));\napp.use(\"/api/comment\", commentRoute);\napp.use(\"/api/auth\", authRoute);\napp.use(\"/api/users\", userRoute);\napp.use(\"/api/posts\", postRoute);\napp.use(\"/api/categories\", categoryRoute);\n\napp.listen(\"5000\", () => {\n  console.log(\"Server is listening on port 5000\");\n});\n"],"mappings":";;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAwD;AAXxD,MAAMA,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrB;;AAWA;AACAC,eAAM,CAACC,MAAM,EAAE;AACfH,GAAG,CAACI,GAAG,CAACH,gBAAO,CAACI,IAAI,EAAE,CAAC;AACvBL,GAAG,CAACI,GAAG,CAACE,mBAAU,CAACC,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAClDR,GAAG,CAACI,GAAG,CAACE,mBAAU,CAACD,IAAI,EAAE,CAAC;AAE1BI,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAME,gBAAgB,GAAE,qFAAqF;AAC7GH,iBAAQ,CAACI,OAAO,CAACD,gBAAgB,EAAE;EAAEE,eAAe,EAAE,IAAI;EACxDC,cAAc,EAAE,IAAI;EACpBC,gBAAgB,EAAC,IAAI;EACrBC,kBAAkB,EAAE;AACrB,CAAC,CAAC,CACAC,IAAI,CAAC,MAAM;EACVC,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;AACzD,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAI;EACZH,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEE,GAAG,CAAC;EACxCC,OAAO,CAACC,IAAI,EAAE;AAClB,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACAxB,GAAG,CAACyB,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxB,OAAOA,GAAG,CAACtB,IAAI,CAAC;IAACuB,OAAO,EAAE;EAAuB,CAAC,CAAC;AACtD,CAAC,CAAC;AACF;AACA5B,GAAG,CAACI,GAAG,CAAC,cAAc,EAAEyB,kBAAY,CAAC;AACrC7B,GAAG,CAACI,GAAG,CAAC,WAAW,EAAE0B,aAAS,CAAC;AAC/B9B,GAAG,CAACI,GAAG,CAAC,YAAY,EAAE2B,cAAS,CAAC;AAChC/B,GAAG,CAACI,GAAG,CAAC,YAAY,EAAE4B,cAAS,CAAC;AAChChC,GAAG,CAACI,GAAG,CAAC,iBAAiB,EAAE6B,mBAAa,CAAC;AAEzCjC,GAAG,CAACkC,MAAM,CAAC,MAAM,EAAE,MAAM;EACvBf,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;AACjD,CAAC,CAAC"}